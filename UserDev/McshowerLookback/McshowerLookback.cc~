#ifndef MCSHOWERLOOKBACK_CC
#define MCSHOWERLOOKBACK_CC

#include "McshowerLookback.hh"

McshowerLookback::McshowerLookback(){
  std::cout<<"Hello world!"<<std::endl;
}

////////////////
//Make map of trackIDs for each shower
////////////////
void McshowerLookback::FillShowerMap(larlight::event_mcshower* my_mcshow, std::map<unsigned short, unsigned long> &shower_idmap){
  int num_mcshow=0;
  for(auto this_mcshow : *my_mcshow){
    num_mcshow++;
    auto this_mom = (std::vector<Double_t>)this_mcshow.MotherMomentum();
    for(auto this_trackid : (std::vector<UInt_t>)this_mcshow.DaughterTrackID()){
      //std::cout<<this_trackid<<std::endl;                                                                                                                      
      shower_idmap[this_trackid]=num_mcshow;
    }
  }
}

////////////////
//Make map of simchannel objects for each channel
////////////////
void McshowerLookback::FillSimchMap(larlight::event_simch* my_simch, std::map<unsigned long, larlight::simch> &simch_map){
  for(auto this_simch : *my_simch){
    simch_map[this_simch.Channel()]=this_simch;
  }
}

////////////////
//Find % of each shower in a single hit
////////////////
double MatchHitsOne(larlight::hit* this_hit, std::map<unsigned short, larlight::simch>* simch_map, std::map<unsigned short, unsigned long>* shower_idmap){
  std::cout<<"Hello again!"<<std::endl;
  return 6.0;
}

#endif
